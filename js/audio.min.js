jQuery(document).ready(function(K){K(function(){var e,t,i,r,n,o,u,a,d,c,s,l,f,h=K("#player-track"),m=K("#bg-artwork"),p=K("#album-name"),v=K("#track-name"),b=K("#album-art"),g=K("#s-area"),y=K("#seek-bar"),N=K("#track-time"),w=K("#ins-time"),x=K("#s-hover"),k=K("#play-pause-button"),C=k.find("i"),T=K("#current-time"),M=K("#track-length"),A=0,I=null,j=!1,D=["Dawn","Me & You","Electro Boy","Home","Proxy (Original Mix)"],S=["Skylike - Dawn","Alex Skrindo - Me & You","Kaaze - Electro Boy","Jordan Schor - Home","Martin Garrix - Proxy"],_=["_1","_2","_3","_4","_5"],B=["https://cdn.jsdelivr.net/gh/huyphuong1994/wendding-public@385f264e4c85917db03020070fd66dbcbc6f8f25/audio/Hon-Ca-Yeu.mp3","https://cdn.jsdelivr.net/gh/huyphuong1994/wendding-public@6e10b9d763454f8f80fc5fac66753077b3f424e4/audio/Vui-Lam-Nha.mp3","https://cdn.jsdelivr.net/gh/huyphuong1994/wendding-public@dcdbdbe0831484b6da647fb3b478d52ff80b821b/audio/Cuoi-Nhau-Di.mp3","https://cdn.jsdelivr.net/gh/huyphuong1994/wendding-public@e37e5aa650bb95919a0660175d3f3f0421d6d21b/audio/Beautiful-In-White-Shayne-Ward-Shayne-Ward.mp3","https://cdn.jsdelivr.net/gh/huyphuong1994/wendding-public@de78fee483d385b84367dc1107372596257cef89/audio/Take-Me-To-Your-Heart.mp3"],H=K("#play-previous"),W=K("#play-next"),Y=-1;function E(){setTimeout(function(){audio.paused?(h.addClass("active"),b.addClass("active"),G(),C.attr("class","fas fa-pause"),audio.play()):(h.removeClass("active"),b.removeClass("active"),clearInterval(I),b.removeClass("buffering"),C.attr("class","fas fa-play"),audio.pause())},300)}function O(){x.width(0),w.text("00:00").css({left:"0px","margin-left":"0px"}).fadeOut(0)}function P(){audio.currentTime=i,y.width(t),O()}function z(){A=(A=new Date).getTime(),j||(j=!0,N.addClass("active")),a=Math.floor(audio.currentTime/60),d=Math.floor(audio.currentTime-60*a),c=Math.floor(audio.duration/60),s=Math.floor(audio.duration-60*c),l=audio.currentTime/audio.duration*100,a<10&&(a="0"+a),d<10&&(d="0"+d),c<10&&(c="0"+c),s<10&&(s="0"+s),isNaN(a)||isNaN(d)?T.text("00:00"):T.text(a+":"+d),isNaN(c)||isNaN(s)?M.text("00:00"):M.text(c+":"+s),isNaN(a)||isNaN(d)||isNaN(c)||isNaN(s)?N.removeClass("active"):N.addClass("active"),y.width(l+"%"),100==l&&(C.attr("class","fa fa-play"),y.width(0),T.text("00:00"),b.removeClass("buffering").removeClass("active"),clearInterval(I))}function G(){clearInterval(I),I=setInterval(function(){0==A||1e3<f-A?b.addClass("buffering"):b.removeClass("buffering"),f=(f=new Date).getTime()},100)}function J(a){0==a||1==a?++Y:--Y,-1<Y&&Y<_.length?(0==a?C.attr("class","fa fa-play"):(b.removeClass("buffering"),C.attr("class","fa fa-pause")),y.width(0),N.removeClass("active"),T.text("00:00"),M.text("00:00"),currAlbum=D[Y],currTrackName=S[Y],currArtwork=_[Y],audio.src=B[Y],A=0,f=(f=new Date).getTime(),0!=a&&(audio.play(),h.addClass("active"),b.addClass("active"),clearInterval(I),G()),p.text(currAlbum),v.text(currTrackName),b.find("img.active").removeClass("active"),K("#"+currArtwork).addClass("active"),e=K("#"+currArtwork).attr("src"),m.css({"background-image":"url("+e+")"})):0==a||1==a?--Y:++Y}audio=new Audio,J(0),audio.loop=!1,audio.play().then().catch(a=>{alert("Bạn đang tắt âm thanh, hãy bật lên thưởng thức nhạc nhé.")}),k.on("click",E),g.mousemove(function(a){a=a,r=g.offset(),t=a.clientX-r.left,i=audio.duration*(t/g.outerWidth()),x.width(t),n=i/60,o=Math.floor(n),u=Math.floor(i-60*o),o<0||u<0||o<0||u<0||(o<10&&(o="0"+o),u<10&&(u="0"+u),isNaN(o)||isNaN(u)?w.text("--:--"):w.text(o+":"+u),w.css({left:t,"margin-left":"-21px"}).fadeIn(0))}),g.mouseout(O),g.on("click",P),K(audio).on("timeupdate",z),H.on("click",function(){J(-1)}),W.on("click",function(){J(1)})})});
